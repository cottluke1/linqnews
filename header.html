<!-- header.html -->
<nav class="fixed top-0 left-0 w-full z-[1000] shadow-md py-3 bg-black">
  <div class="container mx-auto px-4 sm:px-6 lg:px-8 flex items-center justify-between">
    <!-- Logo -->
    <a href="index.html" class="text-3xl font-bold text-white">Linq</a>
    <!-- Centered Nav Links -->
    <div class="hidden md:flex flex-1 justify-center space-x-8">
      <a href="index.html" class="nav-link text-sm text-white hover:text-cyan-400 transition">News</a>
      <a href="community.html" class="nav-link text-sm text-white hover:text-cyan-400 transition">Community</a>
      <a href="markets.html" class="nav-link text-sm text-white hover:text-cyan-400 transition">Markets</a>
      <a href="linqai.html" class="nav-link text-sm text-white hover:text-cyan-400 transition">Linq AI</a>
      <a href="earnings.html" class="nav-link text-sm text-white hover:text-cyan-400 transition">Earnings</a>
      <a href="favorites.html" class="nav-link text-sm text-white hover:text-cyan-400 transition">Bookmarks</a>
    </div>
    <!-- Right side: Login OR Profile (never both) -->
    <div class="flex items-center space-x-3">
      <a href="login.html" id="authLinkDesktopLogin"
         class="nav-link text-sm nav-link-button text-white bg-cyan-500 hover:bg-cyan-600 px-4 py-2 rounded transition hidden">Login</a>
      <a href="profile.html" id="profileLinkDesktop" class="hidden" title="My Profile">
        <img id="navProfilePic"
             src="https://placehold.co/40x40/2C2F33/EAEAEA?text=U"
             alt="User"
             class="rounded-full w-9 h-9 object-cover"
             onerror="this.src='https://placehold.co/40x40/2C2F33/EAEAEA?text=U';">
      </a>
    </div>
  </div>
</nav>
<script>
const loginBtn = document.getElementById('authLinkDesktopLogin');
const profileLink = document.getElementById('profileLinkDesktop');
const profilePic = document.getElementById('navProfilePic');
const PRELOADED_PROFILE_PHOTO = "https://randomuser.me/api/portraits/men/1.jpg";

function showCorrectNav(isLoggedIn) {
  if (isLoggedIn) {
    loginBtn.classList.add('hidden');
    profileLink.classList.remove('hidden');
    profilePic.src = PRELOADED_PROFILE_PHOTO;
  } else {
    loginBtn.classList.remove('hidden');
    profileLink.classList.add('hidden');
    profilePic.src = "https://placehold.co/40x40/2C2F33/EAEAEA?text=U";
  }
}

if (window.firebase && firebase.auth) {
  firebase.auth().onAuthStateChanged(function(user) {
    if (user) {
      showCorrectNav(true);
    } else {
      showCorrectNav(false);
    }
  });
} else {
  showCorrectNav(false);
}
</script>
