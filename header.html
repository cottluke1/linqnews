<!-- header.html -->
<header class="w-full bg-black text-white shadow-md z-40 relative">
  <div class="max-w-7xl mx-auto px-4 py-3 flex justify-between items-center">
    <div class="text-xl font-bold">Linq</div>
    <nav class="flex space-x-6 items-center">
      <a href="index.html" class="hover:underline">Home</a>
      <a href="favorites.html" class="hover:underline">Favorites</a>
      <a href="community.html" class="hover:underline">Community</a>
      <a href="profile.html" class="hover:underline">Profile</a>
      <a id="authLink" href="login.html" class="bg-blue-600 text-white px-3 py-1 rounded hover:bg-blue-700">Login</a>
    </nav>
  </div>
</header>

<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.14.1/firebase-app.js";
  import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.14.1/firebase-auth.js";

  const firebaseConfig = {
    apiKey: "AIzaSyD_FCx8sIkrCoQMoKm5xQIvlyAmlqptETk",
    authDomain: "linq-b27a8.firebaseapp.com",
    projectId: "linq-b27a8",
    storageBucket: "linq-b27a8.firebasestorage.app",
    messagingSenderId: "1067901051826",
    appId: "1:1067901051826:web:44452d1339cdbe2af07aab"
  };

  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);

  const authLink = document.getElementById("authLink");

  onAuthStateChanged(auth, (user) => {
    if (user) {
      authLink.textContent = "Logout";
      authLink.href = "#";
      authLink.onclick = () => {
        auth.signOut();
        location.reload();
      };
    } else {
      authLink.textContent = "Login";
      authLink.href = "login.html";
    }
  });
</script>
